(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0f0433"],{"9c2e":function(t,o,a){"use strict";a.r(o);var i=function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("b-container",{attrs:{fluid:"sm"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("table",{staticClass:"table table-hover",staticStyle:{border:"2px #dadada ridge","font-size":"16px"}},[a("thead",{ref:"cabecalho"},[a("tr",[a("th",{attrs:{width:"180px"}},[t._v("CPF")]),a("th",[t._v("NOME")]),a("th",{attrs:{width:"150px"}},[t._v("MATRÍCULA")]),a("th",{attrs:{width:"150px"}},[t._v("CELULAR")]),a("th",[t._v("ESCOLA")]),a("th",{attrs:{width:"100px"}})])]),a("tbody",[t._l(t.funcionarios,(function(o){return a("tr",{key:o.id,staticClass:"cadastrados",attrs:{id:o.id}},[a("td",[t._v(t._s(o.cpf))]),a("td",[t._v(t._s(o.nome))]),a("td",[t._v(t._s(o.matricula))]),a("td",[t._v(t._s(o.telefoneCelular))]),o.escola[0]&&o.escola[0].nome?a("td",{attrs:{id:o.escola[0].id}},[t._v(t._s(o.escola[0].nome))]):a("td"),a("td",[a("button",{staticClass:"btn btn-xs btn-secondary",attrs:{type:"button"},on:{click:t.editarFuncionario}},[t._v("Editar")])])])})),a("tr",[a("td",[a("input",{ref:"novoCpf",staticClass:"texto form-control",attrs:{placeholder:"Novo CPF",type:"number",maxLength:"9"}})]),a("td",[a("input",{ref:"novoNome",staticClass:"texto form-control",attrs:{placeholder:"Nome"}})]),a("td",[a("input",{ref:"novaMatricula",staticClass:"texto form-control",attrs:{placeholder:"Matrícula",type:"number"}})]),a("td",[a("input",{ref:"novoCelular",staticClass:"texto form-control",attrs:{placeholder:"Celular"}})]),a("td",[a("select",{ref:"novaEscola",staticClass:"texto form-control",attrs:{id:"escolaNova"},on:{click:t.listarEscolas}},[a("option",[t._v("Selecione Escola")]),t._l(t.escolas,(function(o){return a("option",{key:o.id,attrs:{id:o.id}},[t._v(t._s(o.nome))])}))],2)]),0==t.idFuncionarioAlterado?a("td",[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.incluirFuncionario}},[t._v("Incluir")])]):a("td",[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.alterarFuncionario}},[t._v("Alterar")])])])],2)])])])])},e=[],n=a("bc3a"),s=a.n(n),r=a("1157"),c=a.n(r);const l=s.a.create({baseURL:window.Config.BASE_URL});var u={atualizarDadosFuncionario(t,o,a){c.a.ajax({headers:{authorization:"BEARER "+sessionStorage.getItem("token")},url:window.Config.BASE_URL+"/funcionario/"+t,method:"PUT",contentType:"application/json",data:JSON.stringify(o),complete:function(t){a.call(this,!0,t)}})},incluirFuncionario(t,o){c.a.ajax({headers:{authorization:"BEARER "+sessionStorage.getItem("token")},url:window.Config.BASE_URL+"/funcionario",method:"POST",contentType:"application/json",data:JSON.stringify(t),complete:function(t){o.call(this,!0,t)}})},listarFuncionarios:()=>l.get("funcionario",{headers:{Authorization:"BEARER "+sessionStorage.getItem("token")}}),listarEscolas:()=>l.get("escola",{headers:{Authorization:"BEARER "+sessionStorage.getItem("token")}})},d={data:function(){return{escolas:[],funcionarios:[],id:0,idFuncionarioAlterado:0,ativo:!0,descritivo:"",inicio:"",fim:"",opcoes:[],qtdOpcoesEleitor:0,qtdEleitos:0,qtdSuplentes:0,interno:!0,opcoesDisponiveis:[],qtdOpcoes:0,confirmacaoPorEmail:!0}},mounted:function(){this.listarFuncionarios()},methods:{alterarFuncionario:function(){var t=this,o={id:t.idFuncionarioAlterado,cpf:this.$refs.novoCpf.value,nome:this.$refs.novoNome.value,matricula:this.$refs.novaMatricula.value,telefoneCelular:this.$refs.novoCelular.value,escola:[{id:this.$refs.novaEscola.selectedOptions[0].id}]};t.funcionarios=[],u.atualizarDadosFuncionario(t.idFuncionarioAlterado,o,(function(o,a){200==a.status&&(t.liberarDadosNovoFuncionario(),t.funcionarios=a.responseJSON,t.idFuncionarioAlterado=0)}))},editarFuncionario:function(t){var o=this;o.idFuncionarioAlterado=c()(t.currentTarget).parents("tr").attr("id"),c()(".cadastrados").remove(),c()(t.currentTarget).parents("tr").find("td").map((function(t,a){switch(t){case 0:o.$refs.novoCpf.value=c()(a).html();break;case 1:o.$refs.novoNome.value=c()(a).html();break;case 2:o.$refs.novaMatricula.value=c()(a).html();break;case 3:o.$refs.novoCelular.value=c()(a).html();break;case 4:o.$refs.novaEscola.value=c()(a).html();break}}))},incluirFuncionario:function(){var t=this,o={cpf:this.$refs.novoCpf.value,nome:this.$refs.novoNome.value,matricula:this.$refs.novaMatricula.value,telefoneCelular:this.$refs.novoCelular.value,escola:[{id:this.$refs.novaEscola.selectedOptions[0].id}]};t.funcionarios=[],u.incluirFuncionario(o,(function(o,a){200==a.status&&(t.liberarDadosNovoFuncionario(),t.funcionarios=a.responseJSON)}))},liberarDadosNovoFuncionario:function(){this.$refs.novoCpf.value="",this.$refs.novoNome.value="",this.$refs.novaMatricula.value="",this.$refs.novoCelular.value="",this.$refs.novaEscola.value=""},listarEscolas:async function(){this.escolas=(await u.listarEscolas()).data},listarFuncionarios:async function(){this.funcionarios=(await u.listarFuncionarios()).data}}},f=d,v=a("0c7c"),h=Object(v["a"])(f,i,e,!1,null,null,null);o["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2d0f0433.a33bc634.js.map