{"version":3,"sources":["webpack:///./src/models/ocorrencia.js","webpack:///./src/views/commons/Home/detalhes.vue?0c96","webpack:///src/views/commons/Home/detalhes.vue","webpack:///./src/views/commons/Home/detalhes.vue?7b15","webpack:///./src/views/commons/Home/detalhes.vue"],"names":["api","a","create","baseURL","window","Config","BASE_URL","acompanharOcorrencia","idOcorrencia","get","headers","sessionStorage","getItem","dadosOcorrencia","callback","token","ajax","url","method","contentType","data","JSON","stringify","authorization","global","complete","res","call","this","cancelarOcorrencia","post","encerrarOcorrencia","listarOcorrencias","filtro","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","staticStyle","ref","on","recarregarTela","_v","domProps","id","situacaoOcorrencia","descricao","funcionario","escola","dataHoraAcionamento","dataHoraSistemaJSON","atendente","dataHoraLocalViatura","dataHoraEncerramento","usuarioEncerramento","fatos","providencias","equipeAcionada","deslocamentos","outrosDados","_e","atualizarOcorrencia","staticRenderFns","component"],"mappings":"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","file":"js/chunk-40df26d7.765a75f3.js","sourcesContent":["import axios from 'axios';\r\nimport $ from 'jquery';\r\n\r\nconst api = axios.create({ baseURL: window.Config.BASE_URL });\r\n\r\nexport { api };\r\n\r\nexport default {\r\n\tacompanharOcorrencia: idOcorrencia => api.get('ocorrencia/' + idOcorrencia, { headers: { 'Authorization': 'BEARER ' + sessionStorage.getItem('token') } }),\r\n\r\n\tatualizarOcorrencia(idOcorrencia, dadosOcorrencia, callback) {\r\n\t\tvar token = 'BEARER ' + sessionStorage.getItem('token');\r\n\t\t$.ajax({\r\n\t\t\turl: window.Config.BASE_URL + '/ocorrencia/' + idOcorrencia,\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tcontentType: 'application/json',\r\n\t\t\tdata: JSON.stringify(dadosOcorrencia),\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: token\r\n\t\t\t},\r\n\t\t\tglobal: false,\r\n\t\t\tcomplete: function(res) {\r\n\t\t\t\tcallback.call(this, true, res);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tcancelarOcorrencia: idOcorrencia => api.post('ocorrencia/' + idOcorrencia + '/cancelar', null, { headers: { 'Authorization': 'BEARER ' + sessionStorage.getItem('token') } }),\r\n\r\n\tconsultarQuantidadeOcorrenciasAbertas() {\r\n\t\treturn api.get('ocorrencia/quantidadeOcorrenciaAberta', { headers: { 'Authorization': 'BEARER ' + sessionStorage.getItem('token') } });\r\n\t},\r\n\r\n\tencerrarOcorrencia: idOcorrencia => api.post('ocorrencia/' + idOcorrencia + '/encerrar', null, { headers: { 'Authorization': 'BEARER ' + sessionStorage.getItem('token') } }),\r\n\r\n\tlistarOcorrencias: filtro => api.get('ocorrencia?' + filtro, { headers: { 'contentType': 'application/json', 'Authorization': 'BEARER ' + sessionStorage.getItem('token') } })\r\n};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{attrs:{\"fluid\":\"sm\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('table',{staticClass:\"table table-hover\",staticStyle:{\"border\":\"2px #dadada ridge\",\"font-size\":\"16px\"}},[_c('thead',{ref:\"cabecalho\"},[_c('tr',[_c('th',{attrs:{\"width\":\"10px\"}},[_c('button',{staticClass:\"btn btn-info pull-left\",on:{\"click\":_vm.recarregarTela}},[_vm._v(\"Voltar\")])]),_c('th',{staticClass:\"text-center\",attrs:{\"width\":\"250px\"}}),_c('th',[_vm._v(\"Detalhes da Ocorrência\")])])]),_c('tbody',[_c('tr',[_c('td'),_c('td',[_vm._v(\"Ocorrência\")]),_c('td',{staticClass:\"text-center\"},[_c('input',{ref:\"id\",staticClass:\"form-control\",attrs:{\"type\":\"text\",\"disabled\":\"\"},domProps:{\"value\":_vm.id}})])]),_c('tr',[_c('td'),_c('td',[_vm._v(\"Situação\")]),_c('td',[_c('input',{ref:\"situacaoOcorrencia\",staticClass:\"form-control\",attrs:{\"type\":\"text\",\"disabled\":\"\"},domProps:{\"value\":_vm.situacaoOcorrencia.descricao}})])]),_c('tr',[_c('td'),_c('td',[_vm._v(\"Funcionário\")]),_c('td',{staticClass:\"text-center\"},[_c('input',{ref:\"funcionario\",staticClass:\"form-control\",attrs:{\"type\":\"text\",\"disabled\":\"\"},domProps:{\"value\":_vm.funcionario}})])]),_c('tr',[_c('td'),_c('td',[_vm._v(\"Escola\")]),_c('td',{staticClass:\"text-center\"},[_c('input',{ref:\"escola\",staticClass:\"form-control\",attrs:{\"type\":\"text\",\"disabled\":\"\"},domProps:{\"value\":_vm.escola}})])]),_c('tr',[_c('td'),_c('td',[_vm._v(\"Data Hora Acionamento\")]),_c('td',{staticClass:\"text-center\"},[_c('input',{ref:\"dataHoraAcionamento\",staticClass:\"form-control\",attrs:{\"type\":\"text\",\"disabled\":\"\"},domProps:{\"value\":_vm.dataHoraAcionamento}})])]),_c('tr',[_c('td'),_c('td',[_vm._v(\"Data Hora Sistema\")]),_c('td',{staticClass:\"text-center\"},[_c('input',{ref:\"dataHoraSistemaJSON\",staticClass:\"form-control\",attrs:{\"type\":\"text\",\"disabled\":\"\"},domProps:{\"value\":_vm.dataHoraSistemaJSON}})])]),_c('tr',[_c('td'),_c('td',[_vm._v(\"Atendente\")]),_c('td',{staticClass:\"text-center\"},[_c('input',{ref:\"atendente\",staticClass:\"form-control\",attrs:{\"type\":\"text\",\"disabled\":\"\"},domProps:{\"value\":_vm.atendente}})])]),_c('tr',[_c('td'),_c('td',[_vm._v(\"Data Hora Local Viatura\")]),_c('td',{staticClass:\"text-center\"},[_c('input',{ref:\"dataHoraLocalViatura\",staticClass:\"form-control\",attrs:{\"type\":\"datetime-local\"},domProps:{\"value\":_vm.dataHoraLocalViatura}})])]),_c('tr',[_c('td'),_c('td',[_vm._v(\"Data Hora Encerramento\")]),_c('td',{staticClass:\"text-center\"},[_c('input',{ref:\"dataHoraEncerramento\",staticClass:\"form-control\",attrs:{\"type\":\"text\",\"disabled\":\"\"},domProps:{\"value\":_vm.dataHoraEncerramento}})])]),_c('tr',[_c('td'),_c('td',[_vm._v(\"Usuário de Encerramento\")]),_c('td',{staticClass:\"text-center\"},[_c('input',{ref:\"usuarioEncerramento\",staticClass:\"form-control\",attrs:{\"type\":\"text\",\"disabled\":\"\"},domProps:{\"value\":_vm.usuarioEncerramento}})])]),_c('tr',[_c('td'),_c('td',[_vm._v(\"Fatos\")]),_c('td',{staticClass:\"text-center\"},[_c('textarea',{ref:\"fatos\",staticClass:\"form-control\",attrs:{\"rows\":\"5\"},domProps:{\"value\":_vm.fatos}})])]),_c('tr',[_c('td'),_c('td',[_vm._v(\"Providências\")]),_c('td',{staticClass:\"text-center\"},[_c('textarea',{ref:\"providencias\",staticClass:\"form-control\",attrs:{\"rows\":\"5\"},domProps:{\"value\":_vm.providencias}})])]),_c('tr',[_c('td'),_c('td',[_vm._v(\"Equipe Acionada\")]),_c('td',{staticClass:\"text-center\"},[_c('textarea',{ref:\"equipeAcionada\",staticClass:\"form-control\",attrs:{\"rows\":\"5\"},domProps:{\"value\":_vm.equipeAcionada}})])]),_c('tr',[_c('td'),_c('td',[_vm._v(\"Deslocamentos\")]),_c('td',{staticClass:\"text-center\"},[_c('textarea',{ref:\"deslocamentos\",staticClass:\"form-control\",attrs:{\"rows\":\"5\"},domProps:{\"value\":_vm.deslocamentos}})])]),_c('tr',[_c('td'),_c('td',[_vm._v(\"Outros Dados\")]),_c('td',{staticClass:\"text-center\"},[_c('textarea',{ref:\"outrosDados\",staticClass:\"form-control\",attrs:{\"rows\":\"5\"},domProps:{\"value\":_vm.outrosDados}})])]),_c('tr',[_c('td',[(_vm.situacaoOcorrencia.id < 3)?_c('button',{staticClass:\"btn btn-danger\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.cancelarOcorrencia}},[_vm._v(\"Cancelar\")]):_vm._e()]),_c('td',{staticClass:\"text-right\"},[_c('button',{staticClass:\"btn btn-info\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.atualizarOcorrencia}},[_c('span',{ref:\"btnSalvar\"},[_vm._v(\"Salvar\")]),_c('BIconCheck',{ref:\"btnOk\",staticStyle:{\"display\":\"none\"}})],1)]),_c('td',{staticClass:\"text-right\"},[(_vm.situacaoOcorrencia.id < 3)?_c('button',{staticClass:\"btn btn-success\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.encerrarOcorrencia}},[_vm._v(\"Encerrar\")]):_vm._e()])])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<b-container fluid=\"sm\">\r\n\t\t<div class=\"row\">\r\n\t\t\t<div class=\"col-md-12\">\r\n\t\t\t\t<table class=\"table table-hover\" style=\"border:2px #dadada ridge;font-size:16px\">\r\n\t\t\t\t\t<thead ref=\"cabecalho\">\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th width=\"10px\"><button class=\"btn btn-info pull-left\" @click=\"recarregarTela\">Voltar</button></th>\r\n\t\t\t\t\t\t\t<th width=\"250px\" class=\"text-center\"></th>\r\n\t\t\t\t\t\t\t<th>Detalhes da Ocorrência</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>Ocorrência</td>\r\n\t\t\t\t\t\t\t<td class=\"text-center\"><input ref=\"id\" class=\"form-control\" type=\"text\" :value=\"id\" disabled></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>Situação</td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t<input ref=\"situacaoOcorrencia\" class=\"form-control\" type=\"text\" :value=\"situacaoOcorrencia.descricao\" disabled>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>Funcionário</td>\r\n\t\t\t\t\t\t\t<td class=\"text-center\"><input ref=\"funcionario\" class=\"form-control\" type=\"text\" :value=\"funcionario\" disabled></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>Escola</td>\r\n\t\t\t\t\t\t\t<td class=\"text-center\"><input ref=\"escola\" class=\"form-control\" type=\"text\" :value=\"escola\" disabled></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>Data Hora Acionamento</td>\r\n\t\t\t\t\t\t\t<td class=\"text-center\"><input ref=\"dataHoraAcionamento\" class=\"form-control\" type=\"text\" :value=\"dataHoraAcionamento\" disabled></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>Data Hora Sistema</td>\r\n\t\t\t\t\t\t\t<td class=\"text-center\"><input ref=\"dataHoraSistemaJSON\" class=\"form-control\" type=\"text\" :value=\"dataHoraSistemaJSON\" disabled></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>Atendente</td>\r\n\t\t\t\t\t\t\t<td class=\"text-center\"><input ref=\"atendente\" class=\"form-control\" type=\"text\" :value=\"atendente\" disabled></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>Data Hora Local Viatura</td>\r\n\t\t\t\t\t\t\t<td class=\"text-center\"><input ref=\"dataHoraLocalViatura\" class=\"form-control\" type=\"datetime-local\" :value=\"dataHoraLocalViatura\"></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>Data Hora Encerramento</td>\r\n\t\t\t\t\t\t\t<td class=\"text-center\"><input ref=\"dataHoraEncerramento\" class=\"form-control\" type=\"text\" :value=\"dataHoraEncerramento\" disabled></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>Usuário de Encerramento</td>\r\n\t\t\t\t\t\t\t<td class=\"text-center\"><input ref=\"usuarioEncerramento\" class=\"form-control\" type=\"text\" :value=\"usuarioEncerramento\" disabled></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>Fatos</td>\r\n\t\t\t\t\t\t\t<td class=\"text-center\"><textarea ref=\"fatos\" rows=\"5\" class=\"form-control\" :value=\"fatos\"></textarea></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>Providências</td>\r\n\t\t\t\t\t\t\t<td class=\"text-center\"><textarea ref=\"providencias\" rows=\"5\" class=\"form-control\" :value=\"providencias\"></textarea></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>Equipe Acionada</td>\r\n\t\t\t\t\t\t\t<td class=\"text-center\"><textarea ref=\"equipeAcionada\" rows=\"5\" class=\"form-control\" :value=\"equipeAcionada\"></textarea></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>Deslocamentos</td>\r\n\t\t\t\t\t\t\t<td class=\"text-center\"><textarea ref=\"deslocamentos\" rows=\"5\" class=\"form-control\" :value=\"deslocamentos\"></textarea></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>Outros Dados</td>\r\n\t\t\t\t\t\t\t<td class=\"text-center\"><textarea ref=\"outrosDados\" rows=\"5\" class=\"form-control\" :value=\"outrosDados\"></textarea></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td><button v-if=\"situacaoOcorrencia.id < 3\" class=\"btn btn-danger\" type=\"button\" @click=\"cancelarOcorrencia\">Cancelar</button></td>\r\n\t\t\t\t\t\t\t<td class=\"text-right\">\r\n\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-info\" @click=\"atualizarOcorrencia\">\r\n\t\t\t\t\t\t\t\t\t<span ref=\"btnSalvar\">Salvar</span> <BIconCheck ref=\"btnOk\" style=\"display:none\" />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td class=\"text-right\"><button v-if=\"situacaoOcorrencia.id < 3\" class=\"btn btn-success\" type=\"button\" @click=\"encerrarOcorrencia\">Encerrar</button></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</b-container>\r\n</template>\r\n\r\n<script>\r\n\timport $ from 'jquery';\r\n\timport Ocorrencia from '../../../models/ocorrencia';\r\n\r\n\texport default {\r\n\t\tprops: ['idOcorrencia'],\r\n\r\n\t\tdata: function() {\r\n\t\t\treturn {\r\n\t\t\t\tid: 0,\r\n\t\t\t\tidFuncionario: 0,\r\n\t\t\t\tfuncionario: '',\r\n\t\t\t\tfatos: '',\r\n\t\t\t\tescola: '',\r\n\t\t\t\tatendente: '',\r\n\t\t\t\tusuarioEncerramento: '',\r\n\t\t\t\tprovidencias: '',\r\n\t\t\t\tidSituacaoOcorrencia: 0,\r\n\t\t\t\tsituacaoOcorrencia: { descricao: '' },\r\n\t\t\t\tidTipoOcorrencia: 0,\r\n\t\t\t\ttipoOcorrencia: { descricao: '' },\r\n\t\t\t\tequipeAcionada: '',\r\n\t\t\t\tdeslocamentos: '',\r\n\t\t\t\toutrosDados: '',\r\n\t\t\t\tdataHoraAcionamento: '',\r\n\t\t\t\tdataHoraLocalViatura: '',\r\n\t\t\t\tdataHoraEncerramento: '',\r\n\t\t\t\tdataHoraSistemaJSON: '',\r\n\t\t\t\tidUsuarioAcompanhamento: 0,\r\n\t\t\t\tidUsuarioEncerramento: 0\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tmounted: async function() {\r\n\t\t\tvar dadosOcorrencia = (await Ocorrencia.acompanharOcorrencia(this.idOcorrencia)).data;\r\n\t\t\tthis.id = dadosOcorrencia.id;\r\n\t\t\tthis.idFuncionario = dadosOcorrencia.idFuncionario;\r\n\t\t\tthis.funcionario = dadosOcorrencia.funcionario.nome;\r\n\t\t\tthis.atendente = dadosOcorrencia.usuarioAtendente.nome;\r\n\t\t\tthis.usuarioEncerramento = dadosOcorrencia.usuarioEncerramento.nome;\r\n\t\t\tthis.fatos = dadosOcorrencia.fatos;\r\n\t\t\tthis.providencias = dadosOcorrencia.providencias;\r\n\t\t\tthis.idSituacaoOcorrencia = dadosOcorrencia.idSituacaoOcorrencia;\r\n\t\t\tthis.situacaoOcorrencia = dadosOcorrencia.situacaoOcorrencia;\r\n\t\t\tthis.idTipoOcorrencia = dadosOcorrencia.idTipoOcorrencia;\r\n\t\t\tthis.tipoOcorrencia = dadosOcorrencia.tipoOcorrencia;\r\n\t\t\tthis.equipeAcionada = dadosOcorrencia.equipeAcionada;\r\n\t\t\tthis.deslocamentos = dadosOcorrencia.deslocamentos;\r\n\t\t\tthis.outrosDados = dadosOcorrencia.outrosDados;\r\n\t\t\tthis.dataHoraAcionamento = dadosOcorrencia.dataHoraSistemaJSON;\r\n\t\t\tthis.dataHoraLocalViatura = dadosOcorrencia.dataHoraLocalViatura;\r\n\t\t\tthis.dataHoraEncerramento = dadosOcorrencia.dataHoraEncerramento;\r\n\t\t\tthis.dataHoraSistemaJSON = dadosOcorrencia.dataHoraSistemaJSON;\r\n\t\t\tthis.idUsuarioAcompanhamento = dadosOcorrencia.idUsuarioAcompanhamento;\r\n\t\t\tthis.idUsuarioEncerramento = dadosOcorrencia.idUsuarioEncerramento;\r\n\t\t\tthis.escola = dadosOcorrencia.funcionario.escola[0].nome;\r\n\t\t\tfor (var ix = 1; ix < dadosOcorrencia.funcionario.escola.length; ix++){\r\n\t\t\t\tthis.escola = this.escola + ' / ' + dadosOcorrencia.funcionario.escola[ix].nome;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\tatualizarOcorrencia: function(ev) {\r\n\t\t\t\tev.preventDefault();\r\n\t\t\t\tvar Vue = this;\r\n\t\t\t\tvar dadosOcorrencia = {\r\n\t\t\t\t\tid: Vue.id,\r\n\t\t\t\t\tfatos: Vue.$refs.fatos.value,\r\n\t\t\t\t\tprovidencias: Vue.$refs.providencias.value,\r\n\t\t\t\t\tequipeAcionada: Vue.$refs.equipeAcionada.value,\r\n\t\t\t\t\tdeslocamentos: Vue.$refs.deslocamentos.value,\r\n\t\t\t\t\toutrosDados: Vue.$refs.outrosDados.value,\r\n\t\t\t\t\tdataHoraLocalViatura: Vue.$refs.dataHoraLocalViatura.value\r\n\t\t\t\t};\r\n\t\t\t\tOcorrencia.atualizarOcorrencia(Vue.id, dadosOcorrencia, function(ret, res) {\r\n\t\t\t\t\tif (res.status === 200 || res.status === 204) {\r\n\t\t\t\t\t\tVue.$refs.btnOk.style.display = 'initial';\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\tVue.$refs.btnOk.style.display = 'none';\r\n\t\t\t\t\t\t}, 4000);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (res.responseJSON.exceptionMessage) {\r\n\t\t\t\t\t\t\tVue.$refs.btnSalvar.innerHTML = res.responseJSON.exceptionMessage;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tVue.$refs.btnSalvar.innerHTML = 'Erro ao atualizar dados da ocorrência';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\tVue.$refs.btnSalvar.innerHTML = 'Alterar';\r\n\t\t\t\t\t\t}, 4000);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tcancelarOcorrencia: async function() {\r\n\t\t\t\tvar status = (await Ocorrencia.cancelarOcorrencia(this.idOcorrencia)).status;\r\n\t\t\t\tif (status == 200){\r\n\t\t\t\t\tthis.elevarTela();\r\n\t\t\t\t\tthis.situacaoOcorrencia.descricao = 'Cancelada';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\televarTela: async function() {\r\n\t\t\t\t$('html').animate({ scrollTop: 0 }, 'slow');\r\n\t\t\t},\r\n\r\n\t\t\tencerrarOcorrencia: async function() {\r\n\t\t\t\tvar status = (await Ocorrencia.encerrarOcorrencia(this.idOcorrencia)).status;\r\n\t\t\t\tif (status == 200){\r\n\t\t\t\t\tthis.elevarTela();\r\n\t\t\t\t\tthis.situacaoOcorrencia.descricao = 'Concluída';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\trecarregarTela: function() {\r\n\t\t\t\twindow.open('#/', '_self');\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./detalhes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./detalhes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detalhes.vue?vue&type=template&id=2da13a88&\"\nimport script from \"./detalhes.vue?vue&type=script&lang=js&\"\nexport * from \"./detalhes.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}